# Travel Assistant Agentic LLM
A travel planning API that combines Large Language Models (LLMs) with **real-time flight search (Amadeus)** and **city information retrieval (RAG)**. Built with FastAPI and designed for serverless deployment on AWS Lambda, this application provides intelligent travel assistance through agentic workflows powered by specialized agents.

The project uses Retrieval-Augmented Generation (RAG) to improve trip planning answers. Instead of relying only on the LLMâ€™s built-in knowledge, RAG retrieves up-to-date city and travel information (e.g., attractions, culture, safety, logistics) from an external vector database Pinecone before passing it to the model. This ensures that the responses are more accurate, context-aware, and grounded in real data.

## Project Scope
This project focuses primarily on demonstrating the **architecture, agentic workflow design, and serverless deployment pipeline** rather than providing a production-ready travel assistant. This project is ideal if you want to experiment with agentic workflows and serverless LLM applications. The use case is illustrative, but the codebase structure can be adapted to other domains. 

## Feature
- **Flight Search**: Search for real-time flight offers using the Amadeus API.
- **City Knowledge Retrieval**: Query city-specific travel information with RAG using Pinecone.
- **LLM-Powered Assistant**: Combines results from both agents intelligently with a Groq-hosted LLM.
- **Serverless Deployment**: Runs on AWS Lambda + Function URL.

## Live AWS API Endpoint
This project is deployed on AWS Lambda with a Function URL so it can be tested directly. The travel assistant LLM can be accessed directly with two different methods:
> [!IMPORTANT]
> The API has a rate limit of 20 requests per 5 minutes per IP.
### 1. Swagger UI
Users can use the LLM on an interactive web interface generated by SWAGGER UI with the following URL:
```
https://kcnudrnmrh42332qc2htxvcdby0mdbtq.lambda-url.ap-southeast-1.on.aws/docs
```
Click on the "Try it out" button under the /ask endpoint

<img width="1762" height="608" alt="image" src="https://github.com/user-attachments/assets/26428bda-e27b-4392-979d-2d88e1adbf11" />

<br>

Edit the prompt text with flight/trips related questions and click on the "Execute" button

<img width="1752" height="538" alt="image-1" src="https://github.com/user-attachments/assets/c601b704-9956-442c-b860-fde0b67ce888" />

### 2. Curl 
The function can also be invoked using the `curl` command-line tool by sending a POST request to the AWS Lambda Function URL.
```sh
curl -X 'POST' \
  'https://kcnudrnmrh42332qc2htxvcdby0mdbtq.lambda-url.ap-southeast-1.on.aws/ask' \
  -H 'accept: text/plain' \
  -H 'Content-Type: application/json' \
  -d '{
  "prompt": "Plan a 2-day trip in Tokyo."
}' 
```

### Prompt ideas
Sample queries you can paste directly into the Swagger UI or curl.
```
- "Find me the some flights from New York (JFK) to London (LHR) on December 15, 2025 for 2 adults."
- "Create a 5-day trip plan in Tokyo during cherry blossom season."
```

> [!NOTE]
> To maintain simplicity, the function has been designed with limited capabilities for demonstration purposes.
> - **Adults per search**: The number of adults cannot exceed **9**, due to Amadeus API limitations.  
> - **Trip type**: Only **one-way flights** are supported.  
> - **Request scope**: Each API request can only query **one flight search at a time**.  
> - **Trip planning**: Unlike flight search, **different trip planning requests can be queried multiple times** in a single query.


### Example results
#### Flight Search
<img width="1198" height="285" alt="image-2" src="https://github.com/user-attachments/assets/1d9656fc-26ef-4a27-bda6-6ff716128217" />

#### Trip Planning
<img width="866" height="268" alt="image-3" src="https://github.com/user-attachments/assets/c5475e92-ae4b-4d52-9f39-44a3c7783dae" />

## Installation
Follow these steps if you want to run it locally instead of using the live endpoint.
### 1. Clone the repo
```sh
git clone https://github.com/jj-liew/travel-assistant-llm.git
cd travel-assistant-llm
```
### 2. Install dependencies
```sh
pip install -r requirements.txt
```

### 3. Set environment variables
Create a `.env` file in the root and replace the placeholder texts with your own API keys. 
```sh
AMADEUS_ID=your-amadeus-client-id
AMADEUS_SECRET=your-amadeus-secret
GROQ_API_KEY=your-groq-key
PINECONE_API_KEY=your-pinecone-key
```
The API keys can be acquired here:
- Flight search API: [Amadeus](https://developers.amadeus.com/self-service/apis-docs/guides/developer-guides/quick-start/) 
- Large Language Model: [Groq](https://groq.com/)
- Vector database: [Pinecone](https://docs.pinecone.io/guides/projects/manage-api-keys)

### 4. Run locally
```sh
uvicorn app:app --reload
```
After starting the server, access the endpoint via
`http://127.0.0.1:8000/docs` with Swagger UI.

### Testing
Use the `pytest` command to run the test files.

## License

This project is licensed under the [MIT License](LICENSE).
